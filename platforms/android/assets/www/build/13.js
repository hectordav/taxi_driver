webpackJsonp([13],{246:function(l,n,o){"use strict";function t(l){return u._19(0,[(l()(),u.Z(0,0,null,null,1,"ion-icon",[["color","yellow"],["name","md-star"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u.Y(1,147456,null,0,E.a,[C.a,u.j,u.z],{color:[0,"color"],name:[1,"name"]},null)],function(l,n){l(n,1,0,"yellow","md-star")},function(l,n){l(n,0,0,u._13(n,1)._hidden)})}function a(l){return u._19(0,[(l()(),u.Z(0,0,null,null,1,"ion-icon",[["color","dark"],["name","md-star"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u.Y(1,147456,null,0,E.a,[C.a,u.j,u.z],{color:[0,"color"],name:[1,"name"]},null)],function(l,n){l(n,1,0,"dark","md-star")},function(l,n){l(n,0,0,u._13(n,1)._hidden)})}function e(l){return u._19(0,[(l()(),u.Z(0,0,null,null,20,"ion-header",[],null,null,null,null,null)),u.Y(1,16384,null,0,I.a,[C.a,u.j,u.z,[2,T.a]],null,null),(l()(),u._18(-1,null,["\n  "])),(l()(),u.Z(3,0,null,null,16,"ion-navbar",[["class","toolbar"],["color","primary"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Y.b,Y.a)),u.Y(4,49152,null,0,S.a,[Z.a,[2,T.a],[2,O.a],C.a,u.j,u.z],{color:[0,"color"]},null),(l()(),u._18(-1,3,["\n    "])),(l()(),u.Z(6,0,null,0,8,"button",[["ion-button",""],["menuToggle",""]],[[8,"hidden",0]],[[null,"click"]],function(l,n,o){var t=!0;if("click"===n){t=!1!==u._13(l,8).toggle()&&t}return t},R.b,R.a)),u.Y(7,1097728,[[1,4]],0,G.a,[[8,""],C.a,u.j,u.z],null,null),u.Y(8,1064960,null,0,X.a,[z.a,[2,T.a],[2,G.a],[2,S.a]],{menuToggle:[0,"menuToggle"]},null),u.Y(9,16384,null,1,N.a,[C.a,u.j,u.z,[2,M.a],[2,S.a]],null,null),u._16(603979776,1,{_buttons:1}),(l()(),u._18(-1,0,["\n      "])),(l()(),u.Z(12,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u.Y(13,147456,null,0,E.a,[C.a,u.j,u.z],{name:[0,"name"]},null),(l()(),u._18(-1,0,["\n    "])),(l()(),u._18(-1,3,["\n    "])),(l()(),u.Z(16,0,null,3,2,"ion-title",[],null,null,null,q.b,q.a)),u.Y(17,49152,null,0,w.a,[C.a,u.j,u.z,[2,M.a],[2,S.a]],null,null),(l()(),u._18(-1,0,["Home"])),(l()(),u._18(-1,3,["\n  "])),(l()(),u._18(-1,null,["\n"])),(l()(),u._18(-1,null,["\n\n"])),(l()(),u.Z(22,0,null,null,71,"ion-content",[["class","primary-bg"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,V.b,V.a)),u.Y(23,4374528,null,0,A.a,[C.a,P.a,J.a,u.j,u.z,Z.a,H.a,u.u,[2,T.a],[2,O.a]],null,null),(l()(),u._18(-1,1,["\n  "])),(l()(),u.Z(25,0,null,1,50,"div",[["padding",""],["text-center",""]],null,null,null,null,null)),(l()(),u._18(-1,null,["\n    "])),(l()(),u.Z(27,0,null,null,2,"h3",[["color","light"],["ion-text",""]],null,null,null,null,null)),u.Y(28,16384,null,0,F.a,[C.a,u.j,u.z],{color:[0,"color"]},null),(l()(),u._18(29,null,["",""])),(l()(),u._18(-1,null,["\n    "])),(l()(),u.Z(31,0,null,null,2,"h4",[["color","gray"],["ion-text",""]],null,null,null,null,null)),u.Y(32,16384,null,0,F.a,[C.a,u.j,u.z],{color:[0,"color"]},null),(l()(),u._18(33,null,["",""])),(l()(),u._18(-1,null,["\n\n    "])),(l()(),u.Z(35,0,null,null,35,"ion-grid",[["class","grid"]],null,null,null,null,null)),u.Y(36,16384,null,0,B.a,[],null,null),(l()(),u._18(-1,null,["\n      "])),(l()(),u.Z(38,0,null,null,31,"ion-row",[["class","row"]],null,null,null,null,null)),u.Y(39,16384,null,0,D.a,[],null,null),(l()(),u._18(-1,null,["\n        "])),(l()(),u.Z(41,0,null,null,10,"ion-col",[["class","col"]],null,null,null,null,null)),u.Y(42,16384,null,0,K.a,[],null,null),(l()(),u._18(-1,null,["\n          "])),(l()(),u.Z(44,0,null,null,2,"span",[["color","gray"],["ion-text",""]],null,null,null,null,null)),u.Y(45,16384,null,0,F.a,[C.a,u.j,u.z],{color:[0,"color"]},null),(l()(),u._18(-1,null,["Codigo"])),(l()(),u._18(-1,null,["\n          "])),(l()(),u.Z(48,0,null,null,2,"h4",[["color","light"],["ion-text",""]],null,null,null,null,null)),u.Y(49,16384,null,0,F.a,[C.a,u.j,u.z],{color:[0,"color"]},null),(l()(),u._18(50,null,["",""])),(l()(),u._18(-1,null,["\n        "])),(l()(),u._18(-1,null,["\n        "])),(l()(),u.Z(53,0,null,null,15,"ion-col",[["class","col"]],null,null,null,null,null)),u.Y(54,16384,null,0,K.a,[],null,null),(l()(),u._18(-1,null,["\n          "])),(l()(),u.Z(56,0,null,null,2,"span",[["color","gray"],["ion-text",""]],null,null,null,null,null)),u.Y(57,16384,null,0,F.a,[C.a,u.j,u.z],{color:[0,"color"]},null),(l()(),u._18(-1,null,["Rating"])),(l()(),u._18(-1,null,["\n          "])),(l()(),u.Z(60,0,null,null,7,"h4",[],null,null,null,null,null)),(l()(),u._18(-1,null,["\n          "])),(l()(),u.U(16777216,null,null,1,null,t)),u.Y(63,802816,null,0,U.h,[u.I,u.F,u.p],{ngForOf:[0,"ngForOf"]},null),(l()(),u._18(-1,null,["\n          "])),(l()(),u.U(16777216,null,null,1,null,a)),u.Y(66,802816,null,0,U.h,[u.I,u.F,u.p],{ngForOf:[0,"ngForOf"]},null),(l()(),u._18(-1,null,["\n          "])),(l()(),u._18(-1,null,["\n        "])),(l()(),u._18(-1,null,["\n      "])),(l()(),u._18(-1,null,["\n    "])),(l()(),u._18(-1,null,["\n\n    "])),(l()(),u.Z(72,0,null,null,2,"button",[["block",""],["color","gray"],["ion-button",""],["padding",""]],null,null,null,R.b,R.a)),u.Y(73,1097728,null,0,G.a,[[8,""],C.a,u.j,u.z],{color:[0,"color"],block:[1,"block"]},null),(l()(),u._18(74,0,["\n      "," MXN$\n    "])),(l()(),u._18(-1,null,["\n  "])),(l()(),u._18(-1,1,["\n  "])),(l()(),u.Z(77,0,null,1,15,"ion-grid",[["class","bottom-buttons grid"],["padding",""]],null,null,null,null,null)),u.Y(78,16384,null,0,B.a,[],null,null),(l()(),u._18(-1,null,["\n    "])),(l()(),u.Z(80,0,null,null,11,"ion-row",[["class","row"]],null,null,null,null,null)),u.Y(81,16384,null,0,D.a,[],null,null),(l()(),u._18(-1,null,["\n        "])),(l()(),u.Z(83,0,null,null,6,"ion-col",[["class","col"]],null,null,null,null,null)),u.Y(84,16384,null,0,K.a,[],null,null),(l()(),u._18(-1,null,["\n        "])),(l()(),u.Z(86,0,null,null,2,"button",[["block",""],["color","secondary"],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,o){var t=!0;if("click"===n){t=!1!==l.component.buscar_carreras()&&t}return t},R.b,R.a)),u.Y(87,1097728,null,0,G.a,[[8,""],C.a,u.j,u.z],{color:[0,"color"],block:[1,"block"]},null),(l()(),u._18(-1,0,["Buscar Carreras"])),(l()(),u._18(-1,null,["\n      "])),(l()(),u._18(-1,null,["\n      "])),(l()(),u._18(-1,null,["\n    "])),(l()(),u._18(-1,null,["\n  "])),(l()(),u._18(-1,1,["\n"])),(l()(),u._18(-1,null,["\n"]))],function(l,n){var o=n.component;l(n,4,0,"primary");l(n,8,0,"");l(n,13,0,"menu");l(n,28,0,"light");l(n,32,0,"gray");l(n,45,0,"gray");l(n,49,0,"light");l(n,57,0,"gray");l(n,63,0,o.range(o.puntaje_obtenido));l(n,66,0,o.range(5-o.puntaje_obtenido));l(n,73,0,"gray","");l(n,87,0,"secondary","")},function(l,n){var o=n.component;l(n,3,0,u._13(n,4)._hidden,u._13(n,4)._sbPadding);l(n,6,0,u._13(n,8).isHidden);l(n,12,0,u._13(n,13)._hidden);l(n,22,0,u._13(n,23).statusbarPadding,u._13(n,23)._hasRefresher);l(n,29,0,o.datos_taxi_nombre);l(n,33,0,o.datos_taxi_cedula);l(n,50,0,o.datos_taxi_id_usuario);l(n,74,0,o.monto_asignado);l(n,86,0,u._2(1,"",o.buttonDisabled,""))})}Object.defineProperty(n,"__esModule",{value:!0});var u=o(0),i=(o(2),o(57),o(143)),s=o(48),r=o(150),c=o(129),_=o(130),d=o(151),g=function(){function l(l,n,o,t,a,e,u,i,s,r,c){var _=this;this.nav=l,this.driverService=n,this.modalCtrl=o,this.alertCtrl=t,this.geolocation=a,this.prlogin=e,this.pr_asignacion_monto=u,this.platform=i,this.servicio=s,this.toastCtrl=r,this.conexion=c,this.buttonDisabled=!0,this.backPressed=!1,this.puntaje_obtenido=0,this.intervalo=setInterval(function(){_.conexion.conexion();if("desconectado"==_.prlogin.get_variable_status_conexion()){_.toastCtrl.create({message:"Verifique la conexion a internet",duration:3500,position:"bottom"}).present()}else _.cargar_ubicacion()},3e3),this.monto_establecido_taxi(),this.buscar_monto_disponible(),this.datos_taxista(),this.driver=n.getCurrentDriver(),i.registerBackButtonAction(function(){if(!_.nav.canGoBack())return _.backPressed?void 0:(_.backPressed=!0,_.salir_sistema(),void setTimeout(function(){return _.backPressed=!1},2e3));_.nav.pop()}),this.get_puntaje_driver(),this.distancia_taxi_cliente()}return l.prototype.distancia_taxi_cliente=function(){var l=this;this.servicio.get_distancia_taxi_cliente().subscribe(function(n){l.result_distancia=n;var o=l.result_distancia.distancia;console.log("la distancia "+o),l.servicio.set_variable_distancia_taxi_cliente(o)},function(l){console.log("NO EXISTE REGISTRO")})},l.prototype.salir_sistema=function(){var l=this;this.loader=this.alertCtrl.create({title:"Confirmar",message:"Esta accion cerrar√° el sistema, desea continuar?",buttons:[{text:"No",role:"cancel",handler:function(){console.log("Cancel clicked")}},{text:"Si",handler:function(){l.platform.exitApp()}}]}),this.loader.present()},l.prototype.buscar_carreras_asignadas_x_central=function(){var l=this,n=this.prlogin.getMyGlobalVar().json().id_usuario;this.conexion.conexion();if("desconectado"==this.prlogin.get_variable_status_conexion()){this.toastCtrl.create({message:"Verifique la conexion a internet",duration:3500,position:"bottom"}).present()}else this.servicio.buscar_carreras_x_central(n,"6","5oJn^ixsIp~ltoEnXia^Iv[wIhiy]R0TkH6G").subscribe(function(n){l.result_4=n,console.log("REGISTRO EXISTE"),console.log("si hay carreras"),console.log(n),"si existe"==n.json().id&&(l.loader=l.alertCtrl.create({title:"Notificacion",message:"tiene una carrera asignada por la central, desea ir a carreras asignadas?",buttons:[{text:"Si",handler:function(){l.nav.setRoot("CarrerasAsignadasPage")}},{text:"No",role:"cancel",handler:function(){console.log("Cancel clicked")}}]}),l.loader.present())},function(l){console.log("NO EXISTE REGISTRO")})},l.prototype.datos_taxista=function(){var l=this.prlogin.getMyGlobalVar();this.datos_taxi_nombre=l.json().nombre,this.datos_taxi_cedula=l.json().cedula_cliente,this.datos_taxi_id_usuario=l.json().id_usuario},l.prototype.cargar_ubicacion=function(){var l=this;if(navigator.geolocation){var n={timeout:12e4,enableHighAccuracy:!0};navigator.geolocation.getCurrentPosition(function(n){console.info("using navigator"),l.g_latitud=n.coords.latitude,l.g_longitud=n.coords.longitude,l.guardar_ubicacion_taxista()},function(l){},n)}else console.log("un error")},l.prototype.monto_establecido_taxi=function(){},l.prototype.buscar_monto_disponible=function(){var l=this,n=this.prlogin.getMyGlobalVar().json().id_usuario;this.pr_asignacion_monto.get_monto_disponible_id_taxi(n,"5oJn^ixsIp~ltoEnXia^Iv[wIhiy]R0TkH6G").subscribe(function(n){l.result_3=n,console.log("REGISTRO EXISTE"),console.log(n),l.monto_asignado=n.json().monto,l.pr_asignacion_monto.get_monto_establecido_taxi().subscribe(function(n){l.result_monto_estableciso=n,console.log("REGISTRO EXISTE"),l.monto_establecido=n.json().monto_establecido,l.comparar_monto()},function(l){console.log("NO EXISTE REGISTRO")})},function(l){console.log("NO EXISTE REGISTRO")})},l.prototype.comparar_monto=function(){if(JSON.parse(this.monto_asignado)<JSON.parse(this.monto_establecido)){this.alertCtrl.create({title:"Notificacion",subTitle:"Monto disponible menor o igual al monto establecido, no puede hacer carreras",buttons:["OK"]}).present()}else{this.alertCtrl.create({title:"Notificacion",subTitle:"Monto disponible "+this.monto_asignado,buttons:["OK"]}).present()}},l.prototype.mensaje_central=function(){var l=this;this.alertCtrl.create({title:"Enviar Mensaje a Central",message:"",inputs:[{name:"note",placeholder:"Escriba su mensaje"}],buttons:[{text:"Cancelar",handler:function(l){console.log("Cancel clicked")}},{text:"Enviar",handler:function(n){l.notas=n,console.log(n),l.fn_enviar_mensaje_central()}}]}).present()},l.prototype.fn_enviar_mensaje_central=function(){var l=this,n=this.prlogin.getMyGlobalVar().json().id_usuario,o=this.notas.note;this.conexion.conexion();if("desconectado"==this.prlogin.get_variable_status_conexion()){this.toastCtrl.create({message:"Verifique la conexion a internet",duration:3500,position:"bottom"}).present()}else this.servicio.enviar_mensaje_central(n,o).subscribe(function(n){l.result_5=n,console.log("REGISTRO EXISTE");l.alertCtrl.create({title:"Mensaje a Central",subTitle:"Mensaje Enviado",buttons:["OK"]}).present()},function(l){console.log("NO EXISTE REGISTRO")})},l.prototype.guardar_ubicacion_taxista=function(){var l=this,n=this.prlogin.getMyGlobalVar().json().id_usuario,o=this.g_latitud+","+this.g_longitud;this.conexion.conexion();if("desconectado"==this.prlogin.get_variable_status_conexion()){this.toastCtrl.create({message:"Verifique la conexion a internet",duration:3500,position:"bottom"}).present()}else this.prlogin.guardar_ubicacion(n,o,"5oJn^ixsIp~ltoEnXia^Iv[wIhiy]R0TkH6G").subscribe(function(n){l.result_2=n,console.log("ubicacion guardada"),l.buttonDisabled=null},function(l){console.log(l),alert(l)})},l.prototype.range=function(l){return new Array(l)},l.prototype.buscar_carreras=function(){if(JSON.parse(this.monto_asignado)<JSON.parse(this.monto_establecido)){this.alertCtrl.create({title:"Notificacion",subTitle:"Monto disponible menor o igual al monto establecido, no puede hacer carreras",buttons:["OK"]}).present()}else{this.conexion.conexion();if("desconectado"==this.prlogin.get_variable_status_conexion()){this.toastCtrl.create({message:"Verifique la conexion a internet",duration:3500,position:"bottom"}).present()}else clearInterval(this.intervalo),this.nav.push("ServiciobuscarPage")}},l.prototype.get_puntaje_driver=function(){var l=this,n=this.prlogin.getMyGlobalVar().json().id_usuario;console.log("el id usuario"),console.log(n),this.servicio.get_puntaje_driver(n,"5oJn^ixsIp~ltoEnXia^Iv[wIhiy]R0TkH6G").subscribe(function(n){l.result_puntaje=n,console.log("el puntaje"),console.log(l.result_puntaje),l.valor_result=l.result_puntaje,"no hay datos disponibles"==l.result_puntaje?(console.log("entro en el if"),l.result_puntaje.valor=0,l.get_puntaje_driver_2(l.result_puntaje),l.puntaje_obtenido=0,console.log(l.puntaje_obtenido)):(console.log("en el else"),l.get_puntaje_driver_2(l.result_puntaje),console.log("REGISTRO EXISTE"))},function(l){console.log("NO EXISTE REGISTRO")})},l.prototype.get_puntaje_driver_2=function(l){for(var n=0,o=l;n<o.length;n++){var t=o[n].puntaje.split(".");console.log("el valor puntaje"),console.log("algo"+t[0]),"1"==t[0]&&(this.puntaje_obtenido=1),"2"==t[0]&&(this.puntaje_obtenido=2),"3"==t[0]&&(this.puntaje_obtenido=3),"4"==t[0]&&(this.puntaje_obtenido=4),"5"==t[0]&&(this.puntaje_obtenido=5)}console.log("el valor puntaje"),console.log(this.puntaje_obtenido)},l}(),b=function(){return function(){}}(),p=o(206),h=o(207),m=o(208),f=o(209),v=o(210),j=o(211),x=o(212),k=o(213),y=o(214),E=o(40),C=o(1),I=o(132),T=o(5),Y=o(263),S=o(45),Z=o(8),O=o(20),R=o(47),G=o(19),X=o(142),z=o(22),N=o(135),M=o(58),q=o(264),w=o(125),V=o(215),A=o(21),P=o(4),J=o(9),H=o(25),F=o(136),B=o(140),D=o(141),K=o(139),U=o(15),W=o(90),$=o(60),L=o(86),Q=u.X({encapsulation:2,styles:[],data:{}}),ll=u.V("page-home",g,function(l){return u._19(0,[(l()(),u.Z(0,0,null,null,1,"page-home",[],null,null,null,e,Q)),u.Y(1,49152,null,0,g,[O.a,i.a,W.a,$.a,d.a,s.a,r.a,P.a,c.a,L.a,_.a],null,null)],null,null)},{},{},[]),nl=o(18),ol=o(131),tl=o(41);o.d(n,"HomePageModuleNgFactory",function(){return al});var al=u.W(b,[],function(l){return u._10([u._11(512,u.i,u.S,[[8,[p.a,h.a,m.a,f.a,v.a,j.a,x.a,k.a,y.a,ll]],[3,u.i],u.s]),u._11(4608,U.k,U.j,[u.r,[2,U.s]]),u._11(4608,nl.q,nl.q,[]),u._11(4608,nl.d,nl.d,[]),u._11(512,U.b,U.b,[]),u._11(512,nl.o,nl.o,[]),u._11(512,nl.g,nl.g,[]),u._11(512,nl.m,nl.m,[]),u._11(512,ol.a,ol.a,[]),u._11(512,ol.b,ol.b,[]),u._11(512,b,b,[]),u._11(256,tl.a,g,[])])})},263:function(l,n,o){"use strict";function t(l){return a._19(0,[(l()(),a.Z(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),a.Y(1,278528,null,0,e.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),a.Z(2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,o){var t=!0;if("click"===n){t=!1!==l.component.backButtonClick(o)&&t}return t},u.b,u.a)),a.Y(3,278528,null,0,e.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a.Y(4,1097728,null,0,i.a,[[8,"bar-button"],s.a,a.j,a.z],null,null),(l()(),a.Z(5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a.Y(6,278528,null,0,e.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a.Y(7,147456,null,0,r.a,[s.a,a.j,a.z],{name:[0,"name"]},null),(l()(),a.Z(8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),a.Y(9,278528,null,0,e.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),a._18(10,null,["",""])),a._12(null,0),a._12(null,1),a._12(null,2),(l()(),a.Z(14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),a.Y(15,278528,null,0,e.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._12(null,3)],function(l,n){var o=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+o._mode);l(n,3,0,"back-button","back-button-"+o._mode);l(n,6,0,"back-button-icon","back-button-icon-"+o._mode);l(n,7,0,o._bbIcon);l(n,9,0,"back-button-text","back-button-text-"+o._mode);l(n,15,0,"toolbar-content","toolbar-content-"+o._mode)},function(l,n){var o=n.component;l(n,2,0,o._hideBb);l(n,5,0,a._13(n,7)._hidden);l(n,10,0,o._backText)})}o.d(n,"a",function(){return c}),n.b=t;var a=o(0),e=o(15),u=o(47),i=o(19),s=o(1),r=o(40),c=(o(5),o(20),a.X({encapsulation:2,styles:[],data:{}}))},264:function(l,n,o){"use strict";function t(l){return a._19(2,[(l()(),a.Z(0,0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),a.Y(1,278528,null,0,e.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._12(null,0)],function(l,n){l(n,1,0,"toolbar-title","toolbar-title-"+n.component._mode)},null)}o.d(n,"a",function(){return u}),n.b=t;var a=o(0),e=o(15),u=(o(1),a.X({encapsulation:2,styles:[],data:{}}))}});